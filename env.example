# 开发环境配置文件模板
# 复制此文件为 .env 并修改相应的值

# ===================
# 应用配置
# ===================
NODE_ENV=development
PORT=3000
APP_NAME=jq-project-template
APP_VERSION=1.0.0

# ===================
# 数据库配置
# ===================
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password
DB_NAME=main

# 数据库行为配置
DB_SYNCHRONIZE=false          # 是否自动同步数据库结构（生产环境务必设为false）
DB_MIGRATIONS_RUN=false       # 是否自动运行迁移
DB_DROP_SCHEMA=false          # 是否删除数据库结构（危险操作）

# 数据库性能配置
DB_MAX_CONNECTIONS=20         # 最大连接数
DB_ACQUIRE_TIMEOUT=60000      # 获取连接超时时间（毫秒）
DB_IDLE_TIMEOUT=60000         # 连接空闲超时时间（毫秒）
DB_RECONNECT_DELAY=2000       # 重连延迟时间（毫秒）
DB_MAX_QUERY_EXECUTION_TIME=2000  # 慢查询时间阈值（毫秒）

# 数据库字符集和时区配置
DB_CHARSET=utf8mb4            # 字符集（支持emoji等4字节字符）
DB_TIMEZONE=+08:00            # 时区（+08:00为中国标准时间，+00:00为UTC）

# 数据库缓存配置
DB_CACHE_DURATION=30000       # 查询缓存持续时间（毫秒）

# 数据库重试配置
DB_RETRY_ATTEMPTS=10          # 重试次数
DB_RETRY_DELAY=3000           # 重试延迟（毫秒）

# 数据库事务配置
DB_ISOLATION_LEVEL=READ_COMMITTED  # 事务隔离级别

# 数据库SSL配置
DB_SSL=false                  # 是否启用SSL
DB_SSL_REJECT_UNAUTHORIZED=true   # 是否拒绝未授权的SSL连接

# ===================
# JWT配置
# ===================
JWT_SECRET=your-development-jwt-secret-key-minimum-32-characters
JWT_REFRESH_SECRET=your-development-refresh-secret-key-minimum-32-characters
JWT_EXPIRES_IN=15m            # 访问令牌过期时间
JWT_REFRESH_EXPIRES_IN=7d     # 刷新令牌过期时间

# ===================
# Redis配置
# ===================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=                # Redis密码（可为空）
REDIS_DB=0                     # Redis数据库编号
REDIS_KEY_PREFIX=dev-app:      # Redis键前缀
REDIS_CACHE_DB=1               # TypeORM缓存使用的Redis数据库编号
REDIS_CACHE_PREFIX=typeorm:    # TypeORM缓存键前缀

# ===================
# 安全配置
# ===================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001   # 允许的CORS源
RATE_LIMIT_TTL=60              # 速率限制时间窗口（秒）
RATE_LIMIT_LIMIT=1000          # 速率限制次数
HELMET_ENABLED=true            # 是否启用Helmet安全头

# ===================
# 日志配置
# ===================
LOG_LEVEL=debug                # 日志级别：debug, info, warn, error
LOG_FILE_ENABLED=false         # 是否启用文件日志
LOG_CONSOLE_ENABLED=true       # 是否启用控制台日志

# ===================
# 监控配置
# ===================
HEALTH_CHECK_ENABLED=true      # 是否启用健康检查
METRICS_ENABLED=true           # 是否启用指标收集
ALERTING_ENABLED=false         # 是否启用告警（开发环境建议关闭）

# ===================
# 邮件配置（用于测试）
# ===================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=no-reply@yourdomain.com

# ===================
# 队列配置
# ===================
QUEUE_REDIS_HOST=localhost     # 队列使用的Redis主机
QUEUE_REDIS_PORT=6379          # 队列使用的Redis端口
QUEUE_REDIS_PASSWORD=          # 队列使用的Redis密码
QUEUE_REDIS_DB=2               # 队列使用的Redis数据库编号

# ===================
# 缓存配置
# ===================
CACHE_TTL=300                  # 默认缓存TTL（秒）
CACHE_MAX_ITEMS=1000           # 最大缓存项数

# ===================
# API配置
# ===================
API_PREFIX=api                 # API路径前缀
API_VERSION=v1                 # API版本

# ===================
# Swagger配置
# ===================
SWAGGER_ENABLED=true           # 是否启用Swagger文档
SWAGGER_PATH=api/docs          # Swagger文档路径

# ===================
# 错误监控配置（可选）
# ===================
ERROR_MONITORING_ENABLED=false
SENTRY_DSN=                    # Sentry DSN（可选）

# ===================
# 前端应用URL（用于邮件模板等）
# ===================
FRONTEND_URL=http://localhost:3001

# ===================
# 其他配置
# ===================
TIMEZONE=Asia/Shanghai         # 应用时区
LOCALE=zh-CN                   # 应用语言环境 

# ===================
# 微信登录配置（可选）
# ===================
WECHAT_APP_ID=
WECHAT_APP_SECRET=
WECHAT_CALLBACK_URL=http://localhost:3000/api/auth/wechat/callback
WECHAT_SCOPE=snsapi_login
OAUTH_WEB_REDIRECT_URL=http://localhost:3000/oauth/callback
WECHAT_MINI_APP_ID=
WECHAT_MINI_APP_SECRET=